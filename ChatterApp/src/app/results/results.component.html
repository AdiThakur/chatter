<div class="results-body">

	<div class="results-header">
		<div class="results-header-details">
			<mat-icon
				class="results-back-icon"
				(click)="navigateBack()"
			>
				arrow_back
			</mat-icon>
			<span class="results-title">
				Results for <p class="results-query">{{ query }}</p>
			</span>
			<mat-icon
				class="results-refresh-button"
				(click)="refreshSearch()"
			>
				refresh
			</mat-icon>
		</div>
		<mat-progress-bar
			mode="indeterminate"
			[style.visibility]="loader.isLoading() ? 'visible' : 'hidden'"
		></mat-progress-bar>
	</div>

	<div
		*ngIf="chatRooms.length == 0"
		class="results-chatrooms-empty"
	>
		<p class="results-chatrooms-empty-message">
			no results found
		</p>
	</div>

	<div
		*ngIf="chatRooms.length > 0"
		class="results-chatrooms-container"
	>
		<div
			class="results-chatroom-container"
			*ngFor="let chatRoom of chatRooms"
		>
			<div class="results-chatroom-title">
				{{ chatRoom.id }}
			</div>

			<div class="results-chatroom-body">
				<p class="results-chatroom-desc">
					{{ chatRoom.description }}
				</p>

				<span class="results-chatroom-users">
					<mat-icon class="results-chatroom-person">person</mat-icon>
					{{ chatRoom.users.length }}
				</span>

				<button
					class="results-chatroom-join"
					mat-stroked-button
					[disabled]="chatRoom.alreadyJoined"
					(click)="joinChatRoom(chatRoom.id)"
				>
					{{ chatRoom.alreadyJoined? "JOINED" : "JOIN" }}
				</button>
			</div>
		</div>
	</div>
</div>
